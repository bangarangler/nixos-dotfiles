# Autostart Applications
# https://wiki.hyprland.org/Configuring/Keywords/#executing

# Core services
exec-once = swayosd-server
exec-once = wl-paste --watch cliphist store

# Polkit agent for privilege elevation
exec-once = /run/current-system/sw/libexec/polkit-gnome-authentication-agent-1

# Idle/lock daemon
exec-once = hypridle

# Notification daemon
# NOTE: Mako is now started via systemd user service in configuration.nix
# This ensures it works consistently across Niri and Hyprland
# exec-once = mako  # Moved to systemd - do not add back here

# Wallpaper (set by noxtheme, fallback to swaybg)
exec-once = swaybg -i ~/.config/noxtheme/wallpaper -m fill || swaybg -c "#1a1a2e"

# Status bar (optional - uncomment if using waybar)
# exec-once = waybar

# Input method (for non-English input)
# exec-once = fcitx5

# Slow app launch fix - export environment to systemd
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
